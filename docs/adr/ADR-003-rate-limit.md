# ADR-003: Rate Limit и защита /login
Дата: 2025-10-05
Статус: Accepted

## Context
API предоставляет /login, и без ограничений возможен брутфорс пароля или DoS.
Нужно ограничить частоту запросов на пользователя/IP.

## Decision
- Реализован лимит: **5 запросов в 60 секунд на IP**.
- При превышении возвращается `429 Too Many Requests` в формате RFC 7807.
- Проверено, что лимит не мешает CI-тестам и ручному логину.
- Логирование попыток для аналитики.

## Consequences
✅ Снижен риск брутфорса
✅ Повышена надёжность
⚠️ Возможны ложные срабатывания при массовых запросах с прокси

## Links
- NFR-04 (Rate limiting)
- F1, R1 из Threat Model
- tests/test_login.py::test_rate_limit_exceeded
