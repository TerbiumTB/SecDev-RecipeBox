# ADR-002: Хранение и ротация секретов (ENV-only policy)
Дата: 2025-10-26
Статус: Accepted

## Context
Критические параметры (пароли БД, токены API) ранее могли попадать в код или репозиторий.
Нужно централизовать их хранение и исключить появление секретов в логе и в GIT.

## Decision
- Все секреты читаются **только из переменных окружения** (`os.getenv`).
- Проверка на наличие при старте приложения (raise при отсутствии).
<!-- - Исключено логирование переменных окружения. -->
- Добавлен pre-commit-хук `detect-secrets`.
- Настроен CI для периодической ротации (через Vault/ENV).

## Consequences
- Минимизирован риск утечки в коде
- Возможность ротации без рестарта сервиса
- Требуется настройка DevOps-среды для безопасной подстановки переменных

## Links
- NFR-05 (Секреты)
- R6 из Threat Model
- pre-commit detect-secrets конфигурация
