# Меры харднинга Dockerfile и IaC

## Dockerfile

### Уже реализованные меры харднинга:
- Используется multi-stage build для разделения этапов сборки и запуска
- Создан не-root пользователь appuser для запуска приложения
- Удален кэш pip после установки зависимостей для уменьшения размера образа
- Настроены корректные права доступа к директории /app для пользователя appuser
- Используется python:3.11-slim как базовый образ (не latest)

## IaC (compose.yaml)

### Меры безопасности:
- Используется healthcheck для PostgreSQL сервиса с таймаутами и retries
- Настроены переменные окружения через .env файл (не захардкожены)
- Порты экспортируются только для локальной разработки
- Используется PostgreSQL 15 (не latest)

## Результаты сканирования:
- Hadolint: проверка Dockerfile на best practices с отключенными нерелевантными правилами
- Checkov: анализ compose.yaml на потенциальные уязвимости IaC
- Trivy: сканирование контейнерного образа на уязвимости с фокусом на CRITICAL/HIGH severity
